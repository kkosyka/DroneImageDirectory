<!-- Kalynn Kosyka

TODO
use dropdown for department? -> many departments... maybe dropdown for academic and type for other...
-->

<!DOCTYPE html>
<html>
<head>
	<title>QUERY FOR DRONE IMAGE DIRECTORY</title>
</head>

	<style>
		/* Always set the map height explicitly to define the size of the div
		* element that contains the map. */
		#map {
			height: 0%;
		}
		/* Optional: Makes the sample page fill the window. */
		html, body {
			height: 100%;
			margin: 0;
			padding: 0;
		}
		#mapid { height: 90%; }
	</style>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
	integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
	crossorigin=""/>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.css"/>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.js"></script>
	<!-- Make sure you put this AFTER Leaflet's CSS -->
	<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
	integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
	crossorigin=""></script>

	<script src="LeafletDraw/src/Leaflet.draw.js"></script>
<script src="LeafletDraw/src/Leaflet.Draw.Event.js"></script>

<script src="LeafletDraw/src/edit/handler/Edit.Poly.js"></script>
<script src="LeafletDraw/src/edit/handler/Edit.SimpleShape.js"></script>
<script src="LeafletDraw/src/edit/handler/Edit.Rectangle.js"></script>
<script src="LeafletDraw/src/edit/handler/Edit.Marker.js"></script>
<script src="LeafletDraw/src/edit/handler/Edit.CircleMarker.js"></script>
<script src="LeafletDraw/src/edit/handler/Edit.Circle.js"></script>
<script src="LeafletDraw/src/draw/handler/Draw.Feature.js"></script>
<script src="LeafletDraw/src/draw/handler/Draw.Polyline.js"></script>
<script src="LeafletDraw/src/draw/handler/Draw.Polygon.js"></script>
<script src="LeafletDraw/src/draw/handler/Draw.SimpleShape.js"></script>
<script src="LeafletDraw/src/draw/handler/Draw.Rectangle.js"></script>
<script src="LeafletDraw/src/draw/handler/Draw.Circle.js"></script>
<script src="LeafletDraw/src/draw/handler/Draw.Marker.js"></script>
<script src="LeafletDraw/src/draw/handler/Draw.CircleMarker.js"></script>
<script src="LeafletDraw/src/ext/TouchEvents.js"></script>
<script src="LeafletDraw/src/ext/LatLngUtil.js"></script>
<script src="LeafletDraw/src/ext/GeometryUtil.js"></script>
<script src="LeafletDraw/src/ext/LineUtil.Intersect.js"></script>
<script src="LeafletDraw/src/ext/Polyline.Intersect.js"></script>
<script src="LeafletDraw/src/ext/Polygon.Intersect.js"></script>
<script src="LeafletDraw/src/Control.Draw.js"></script>
<script src="LeafletDraw/src/Tooltip.js"></script>
<script src="LeafletDraw/src/Toolbar.js"></script>
<script src="LeafletDraw/src/draw/DrawToolbar.js"></script>
<script src="LeafletDraw/src/edit/EditToolbar.js"></script>
<script src="LeafletDraw/src/edit/handler/EditToolbar.Edit.js"></script>
<script src="LeafletDraw/src/edit/handler/EditToolbar.Delete.js"></script>

<body>
	<h1 style="text-align: center;">QUERY FOR DRONE IMAGE DIRECTORY</h1>
	<!-- HTML for SEARCH BAR -->
	<div id="tfheader" style="text-align: center;">
		<form id="tfnewsearch" method="get" action="DroneDirectoryMap.html">
			FILE NAME
			<br/>
			<input type="text"  name="filename" maxlength="120" style="font-size: 10px; text-align: center;" placeholder="FILE NAME">
			<br/>
			X-Coor
			<input type="text"  name="xcoor" maxlength="120" style="font-size: 10px;text-align: center;" placeholder="X COOR">
			Y-Coor
			<input type="text"  name="ycoor" maxlength="120" style="font-size: 10px;text-align: center;" placeholder="Y COOR">
			<br/>
			Building
			<select name="building">
				<option value = ""> Select Building</option>
				<option value = "10 Prospect Street"> 10 Prospect Street</option>
				<option value = "12-14 Henshaw Avenue"> 12-14 Henshaw Avenue</option>
				<option value = "126 West Street"> 126 West Street</option>
				<option value = "138 Elm Street"> 138 Elm Street</option>
				<option value = "146 Elm Street"> 146 Elm Street</option>
				<option value = "150 Elm Street"> 150 Elm Street</option>
				<option value = "30 Belmont Avenue"> 30 Belmont Avenue</option>
				<option value = "51 College Lane"> 51 College Lane</option>
				<option value = "76 Elm Street"> 76 Elm Street</option>
				<option value = "8 College Lane"> 8 College Lane</option>
				<option value = "94 State Street"> 94 State Street</option>
				<option value = "Admissions"> Admissions</option>
				<option value = "Ainsworth Gymnasium"> Ainsworth Gymnasium</option>
				<option value = "Albright House"> Albright House</option>
				<option value = "Alumnae Gymnasium"> Alumnae Gymnasium</option>
				<option value = "Alumnae House"> Alumnae House</option>
				<option value = "Baldwin House"> Baldwin House</option>
				<option value = "Bass Hall"> Bass Hall</option>
				<option value = "Boat House"> Boat House</option>
				<option value = "Burton Hall"> Burton Hall</option>
				<option value = "Campus Center"> Campus Center</option>
				<option value = "Capen Annex"> Capen Annex</option>
				<option value = "Capen Boiler"> Capen Boiler</option>
				<option value = "Capen Garage"> Capen Garage</option>
				<option value = "Capen House"> Capen House</option>
				<option value = "Center for Health and Wellness"> Center for Health and Wellness</option>
				<option value = "Chapin House"> Chapin House</option>
				<option value = "Chase House"> Chase House</option>
				<option value = "Chiller Plant"> Chiller Plant</option>
				<option value = "Clark Hall (Development Center)"> Clark Hall (Development Center)</option>
				<option value = "College Hall"> College Hall</option>
				<option value = "Comstock House"> Comstock House</option>
				<option value = "Conway House"> Conway House</option>
				<option value = "Crew House"> Crew House</option>
				<option value = "Cushing House"> Cushing House</option>
				<option value = "Cutter House"> Cutter House</option>
				<option value = "Davis Center"> Davis Center</option>
				<option value = "Dawes House"> Dawes House</option>
				<option value = "Dewey House"> Dewey House</option>
				<option value = "Drew Hall (C.D.O.)"> Drew Hall (C.D.O.)</option>
				<option value = "Duckett House"> Duckett House</option>
				<option value = "Emerson House"> Emerson House</option>
				<option value = "Equestrian Center"> Equestrian Center</option>
				<option value = "Facilities Management Garage"> Facilities Management Garage</option>
				<option value = "Field House"> Field House</option>
				<option value = "Fine Arts Center"> Fine Arts Center</option>
				<option value = "Ford Hall"> Ford Hall</option>
				<option value = "Friedman Complex (A,B,C,D)"> Friedman Complex (A,B,C,D)</option>
				<option value = "Gables"> Gables</option>
				<option value = "Gardiner House"> Gardiner House</option>
				<option value = "Garrison Hall"> Garrison Hall</option>
				<option value = "Gill Hall"> Gill Hall</option>
				<option value = "Gillett House"> Gillett House</option>
				<option value = "Graduate House"> Graduate House</option>
				<option value = "Grounds Garage"> Grounds Garage</option>
				<option value = "Hatfield Hall"> Hatfield Hall</option>
				<option value = "Haven House"> Haven House</option>
				<option value = "Helen Hills Chapel"> Helen Hills Chapel</option>
				<option value = "Hopkins House"> Hopkins House</option>
				<option value = "Hubbard House"> Hubbard House</option>
				<option value = "Indoor Track & Tennis Facility"> Indoor Track & Tennis Facility</option>
				<option value = "John M. Green Hall"> John M. Green Hall</option>
				<option value = "Jordan House"> Jordan House</option>
				<option value = "King House"> King House</option>
				<option value = "Lamont House"> Lamont House</option>
				<option value = "Laundry - Campus School"> Laundry - Campus School</option>
				<option value = "Lawrence House"> Lawrence House</option>
				<option value = "Lilly Hall"> Lilly Hall</option>
				<option value = "Lyman Plant House"> Lyman Plant House</option>
				<option value = "Mason Hall (Infirmary)"> Mason Hall (Infirmary)</option>
				<option value = "McConnell Hall"> McConnell Hall</option>
				<option value = "Mendenhall Center fro Performing Arts"> Mendenhall Center fro Performing Arts</option>
				<option value = "Morgan Hall (Education Center)"> Morgan Hall (Education Center)</option>
				<option value = "Morris House"> Morris House</option>
				<option value = "Morrow House"> Morrow House</option>
				<option value = "Neilson Library"> Neilson Library</option>
				<option value = "Northrop House"> Northrop House</option>
				<option value = "Park Annex"> Park Annex</option>
				<option value = "Park House"> Park House</option>
				<option value = "Parking Garage"> Parking Garage</option>
				<option value = "Parsons Annex"> Parsons Annex</option>
				<option value = "Parsons House"> Parsons House</option>
				<option value = "Pierce Hall"> Pierce Hall</option>
				<option value = "Power Plant"> Power Plant</option>
				<option value = "President's House"> President's House</option>
				<option value = "Research Greenhouse"> Research Greenhouse</option>
				<option value = "Sabin-Reed Hall"> Sabin-Reed Hall</option>
				<option value = "Sage Hall"> Sage Hall</option>
				<option value = "Scales House"> Scales House</option>
				<option value = "Scott Gymnasium"> Scott Gymnasium</option>
				<option value = "Seelye Hall"> Seelye Hall</option>
				<option value = "Sessions Annex"> Sessions Annex</option>
				<option value = "Sessions House"> Sessions House</option>
				<option value = "Smith College Club"> Smith College Club</option>
				<option value = "St. John's Episcopal Church"> St. John's Episcopal Church</option>
				<option value = "St. Mary's of the Assumption"> St. Mary's of the Assumption</option>
				<option value = "Stoddard Hall (and Annex)"> Stoddard Hall (and Annex)</option>
				<option value = "Sunnyside"> Sunnyside</option>
				<option value = "Talbot House"> Talbot House</option>
				<option value = "Tenney House"> Tenney House</option>
				<option value = "Tennis Hut"> Tennis Hut</option>
				<option value = "Tilly Hall"> Tilly Hall</option>
				<option value = "Tyler Annex"> Tyler Annex</option>
				<option value = "Tyler House"> Tyler House</option>
				<option value = "Unity House"> Unity House</option>
				<option value = "Washburn House"> Washburn House</option>
				<option value = "Wesley House"> Wesley House</option>
				<option value = "Wilder House"> Wilder House</option>
				<option value = "Wilson House"> Wilson House</option>
				<option value = "Wright Hall"> Wright Hall</option>
				<option value = "Ziskind House"> Ziskind House</option>
			<br/><br/>
			<input type="hidden" id="NWlat" name="NWlat">
			<input type="hidden" id="NWlong" name="NWlong">
			<input type="hidden" id="NElat" name="NElat">
			<input type="hidden" id="NElong" name="NElong">
			<input type="hidden" id="SWlat" name="SWlat">
			<input type="hidden" id="SWlong" name="SWlong">
			<input type="hidden" id="SElat" name="SElat">
			<input type="hidden" id="SElong" name="SElong">

			<input type="submit" value="search" class="search">
		</form>
	</div>

	<div id="map"></div>
	<div id="mapid"></div>
</body>


	<script>
//	leaflet
		var mbAttr = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery © <a href="http://mapbox.com">Mapbox</a>',
			mbUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';

		//map types - Mapbox API
		var grayscale   = L.tileLayer(mbUrl, {id: 'mapbox.light', zIndex: 2, attribution: mbAttr});
		var	satellite   = L.tileLayer(mbUrl, {id: 'mapbox.satellite', zIndex: 2, attribution: mbAttr});
		var	streets  = L.tileLayer(mbUrl, {id: 'mapbox.streets', zIndex: 2,  attribution: mbAttr});

		var baseLayers = {
				"Streets": streets,
				"Satellite": satellite
		};
		var droneImages = {
				// "Streets": streets,
				// "Satellite": satellite
			};

		//default settings for map
		var mymap = L.map('mapid', {
				center: [42.318088, -72.638125],
				zoom: 16,
				layers: [streets],
				zIndex: 1,
		});
		mymap.zoomControl.setPosition('topright');
		L.control.layers(baseLayers, droneImages, {position: 'topright'}).addTo(mymap);
		//
		var editableLayers = new L.FeatureGroup();
		mymap.addLayer(editableLayers);

		var drawPluginOptions = {
		  position: 'topright',
		  draw: {
			    polyline: false,
			    circle: false,
			    polygon: false,
			    marker: false,
					circlemarker: false,
			    rectangle: {
               shapeOptions: {
                   clickable: true
               }
           }
		    },
		  edit: {
		    featureGroup: editableLayers, //REQUIRED!!
		    remove: false
		  }
		};

		// Initialise the draw control and pass it the FeatureGroup of editable layers
		var drawControl = new L.Control.Draw(drawPluginOptions);
		mymap.addControl(drawControl);

		L.EditToolbar.Delete.include({
		    removeAllLayers: true
		});

		var editableLayers = new L.FeatureGroup();
		mymap.addLayer(editableLayers);

		mymap.on('draw:created', function(e) {
		  var type = e.layerType,
		      layer = e.layer;

					document.getElementById("NWlat").value = layer.getBounds().getNorthWest().lat;
					document.getElementById("NWlong").value = layer.getBounds().getNorthWest().lng;
					document.getElementById("NElat").value =  layer.getBounds().getNorthEast().lat;
					document.getElementById("NElong").value = layer.getBounds().getNorthEast().lng;
					document.getElementById("SWlat").value = layer.getBounds().getSouthWest().lat;
					document.getElementById("SWlong").value = layer.getBounds().getSouthWest().lng;
					document.getElementById("SElat").value = layer.getBounds().getSouthEast().lat;
					document.getElementById("SElong").value = layer.getBounds().getSouthEast().lng;

		  // if (type === 'rectangle') {
		  //   layer.bindPopup("Your rectangle!  \nNE: " +layer.getBounds().getNorthWest()+
			// 																	 "\nNW: " +layer.getBounds().getNorthEast() +
			// 																   "\nSE: " +layer.getBounds().getSouthEast() +
			// 																   "\nSW: " +layer.getBounds().getSouthWest());
		  // }

		  editableLayers.addLayer(layer);
		});

	</script>
	</body>
</html>
